<!DOCTYPE html>
    <html lang="it">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width-device,initial-scale=1.0">
        <title>Report Finanziario Semplice</title>
        <link rel="stylesheet" href="styles.css">        
        <body><header>
	<div class="nav-bar">
		<span class="logo">FinTable</span> 		
	</div>
	<nav>
		<ul>            
            <li><a href="index.html">FindYourTicker</a></li>
            <li><a href="ElencoReport.html">AllReports</a></li>              
            <li><a href="ElencoReport_crypto.html">CryptoReports</a></li>              
            <li><a href="ElencoReport_etfs.html">ETFsReports</a></li>                          
            <li><a href="ElencoReportBestTrade.html">BestTickersForM/L</a></li>
            <li><a href="ElencoReportBUYSELLTrade.html">Tickers ACC/DECL</a></li>
            <li><a href="ElencoReport_PortfolioPersonale.html">AllTickersForTakeProfit</a></li>
        </ul>    
       </nav>		
	</header>                      

           <section class="container2">  
                <h1> Cerca il tuo Ticker</h1>
                <p>Inserisci <i>in maiuscolo</i> il <b>Ticker symbol.</b></p>
                <form id="tickerForm">
					<label for="ticker">Ticker Symbol:</label>
					<input type="text" id="ticker" name="ticker" required />
					<button type="submit">[ Cerca ]</button>
                </form>
          <div id="results"> <b>[ Nessun risultato prodotto! - Ticker non trovato! ]</b></div>
<script>	
document.getElementById("tickerForm").addEventListener("submit",async function(e){
e.preventDefault();
const ticker = document.getElementById("ticker").value.trim().toUpperCase();
const resultBox = document.getElementById("results");
resultsBox.innerHTML = "Loading ....";
try {
	const response= await fetch('https://analisi-finale-ticker.vercel.app/api/cerca_ticker?ticker=${ticker}');
	if(!response.ok) throw new Error("API request failed");
	const data = await response.json();
	if(Array.isArray(data) && data.lenght >0){
		let table = "<table><thead><tr>";
		//create table header
		for (let key in data[0]){
			table += '<th>${key}</th>';
		}
		table+="</tr></thead><tbody>";
		//create rows
		data.forEach(row => {
			table+= "<tr>";
			for (let key in row) {
				table += '<td>${row[key]}</td>';
			}
			table+="</tr>";
		});
		table+="</tbody></table>";
		resultsBox.innerHTML = table;
	} else {
		resultsBox.innerHTML = '<p>Dati non trovati per <strong>${ticker}</strong>.</p>';
	}
}
catch (error) {
	console.error(error);
	resultsBox.innerHTML ='<p><i>Errore nella ricerca dei Dati </i></p>';
}         
</script>
          
                
                
                
                

                <p><i><b>Disclaimer:</b> L'analisi serve per avere una panoramica generale, ma contengono errori sia tecnici che logici. Quindi per elaborare un piano d'investimento, affidarsi sempre a un professionista del settore (e abilitato.).</i></p>
            </section>           

            <footer>
				<a href="https://github.com/massimotedesco88" target=_"blank" rel="noopener noreferrer">myGitHub</a>
				<a href="https://de.linkedin.com/in/massimo-sedda-173416135?trk=people-guest_people_search-card" target=_"blank" rel="noopener noreferrer">myLinkedIn</a>
                <p>&copy; 2025 Riepilogo Reports - Tutti i diritti riservati</p>
            </footer>
            
            
        </body>
    </head>
    </html>
